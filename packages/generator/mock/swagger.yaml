openapi: 3.0.3
info:
  title: Infonet-Auftragsverwaltung-API
  description: Endpunkte fuer die Auftragsverwaltung im Infonet
  version: 3.0.0

servers:
  - url: 'https://localhost'
    description: Entwicklungs server
  - url: 'https://infonet-auftragsverwaltung-api-test.dev.electronicpartner.io'
    description: Dev server
  - url: 'https://infonet-auftragsverwaltung-api.electronicpartner.io'
    description: Production server

paths:
  /v1/order:
    post:
      summary: get the order(s) of a member
      description: get the order(s) of a member
      operationId: order/overview
      x-ep-lambda:
        vpc: true
        timeout: 30
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Order
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/searchRequest"
            examples:
              successful:
                value:
                  filter:
                    search: "0023456789"
                  sorts:
                    vertriebsauftragsNummer: "asc"
                    positionsNummer: "desc"
                  orderType: "order"
                  paginate:
                    currentPage: 1
                    pageSize: 20
              ausLagerGeliefert:
                value:
                  filter:
                    bezugsArt: "bezugsart.Lager"
                  orderType: "order"
                  paginate:
                    currentPage: 1
                    pageSize: 20
              ausStreckeGeliefert:
                value:
                  filter:
                    bezugsArt: "bezugsart.Strecke"
                  orderType: "order"
                  paginate:
                    currentPage: 1
                    pageSize: 20
              ausVirtuellesLagerGeliefert:
                value:
                  filter:
                    bezugsArt: "bezugsart.Virtuell"
                  orderType: "order"
                  paginate:
                    currentPage: 1
                    pageSize: 20
              ausDietlikonGeliefert:
                value:
                  filter:
                    bezugsArt: "bezugsart.Dietlikon"
                  orderType: "order"
                  paginate:
                    currentPage: 1
                    pageSize: 20
              ausEurolagerGeliefert:
                value:
                  filter:
                    bezugsArt: "bezugsart.Eurolager"
                  orderType: "order"
                  paginate:
                    currentPage: 1
                    pageSize: 20

      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/orderResponse"
              examples:
                successful:
                  value:
                    recordsTotal: 100
                    recordsFiltered: 20
                    totalPages: 4
                    details:
                      items:
                        - vertriebsauftragsNummer:
                            value: "0025678026"
                            type: "string"
                          positionsNummer:
                            type: "number"
                            step: 1
                            value: 10
                          bestellreferenz:
                            value: "Bestellung fuer Herr Mustermann"
                            type: "string"
                          positionsText:
                            value: "Meine Positionsnotiz"
                            type: "string"
                          marke:
                            value: "Bosch (0008801)"
                            type: "string"
                          produktName:
                            value: "HBG5780S6"
                            type: "string"
                          produktBild:
                            type: "image"
                            value: "Product image tooltip"
                            src: "https://cdn.electronicpartner.io/productimages/100x100_webp/1281596_20200221_113216.webp"
                          warengruppe:
                            value: "Back√∂fen (2000)"
                            type: "string"
                          bezugsArt:
                            value: "bezugsart.Strecke"
                            type: "i18n"
                          lagerOrt:
                            value: "ElectronicPartner Handel SE Lager Augsburg (DE)"
                            type: "i18n"
                          nettoEk:
                            value: 100
                            type: "currency"
                            currency: "EUR"
                          rechnungsNetto:
                            value: 120
                            type: "currency"
                            currency: "EUR"
                          bestellMenge:
                            type: "number"
                            step: 1
                            min: 1
                            max: 100
                            value: 1
                          zugeteilteMenge:
                            type: "number"
                            step: 1
                            min: 0
                            max: 100
                            value: 0
                          gelieferteMenge:
                            type: "number"
                            step: 1
                            min: 0
                            max: 100
                            value: 1
                          rueckstaendigeMenge:
                            type: "number"
                            step: 1
                            min: 0
                            max: 100
                            value: 0
                          absageGrund:
                            value: ""
                            type: "i18n"
                          naechsteLieferung:
                            value: 1709222400000
                            type: "date"
                          auftragsDatum:
                            value: 1706572800000
                            type: "date"
                          warenausgangsDatum:
                            value: 1707878400000
                            type: "date"
                          artikelHatBestand:
                            value: true
                            type: "boolean"
                          istGeliefert:
                            value: true
                            type: "boolean"
                          bestellbar:
                            value: "Allowed"
                            hidden: false
                          stornierbar:
                            value: true
                            type: "boolean"
                          retournierbar:
                            value: false
                            type: "boolean"
                          debug:
                            value: false
                            type: "boolean"
                        - vertriebsauftragsNummer:
                            value: "0025678004"
                            type: "string"
                          positionsNummer:
                            type: "number"
                            step: 1
                            value: 20
                          bestellreferenz:
                            value: ""
                            type: "string"
                          positionsText:
                            value: ""
                            type: "string"
                          marke:
                            value: "Braun Personal Care (0009000)"
                            type: "string"
                          produktName:
                            value: "71-S7200cc Series 7"
                            type: "string"
                          produktBild:
                            type: "image"
                            value: "Product image tooltip"
                            src: "https://cdn.electronicpartner.io/productimages/100x100_webp/1401979_bild4_20230203_083539.webp"
                          warengruppe:
                            value: "Rasierer (Herren) (2322)"
                            type: "string"
                          bezugsArt:
                            value: "bezugsart.Lager"
                            type: "i18n"
                          lagerOrt:
                            value: "ElectronicPartner Handel SE Lager Augsburg (DE)"
                            type: "i18n"
                          nettoEk:
                            value: 680
                            type: "currency"
                            currency: "EUR"
                          rechnungsNetto:
                            value: 680
                            type: "currency"
                            currency: "EUR"
                          bestellMenge:
                            type: "number"
                            step: 1
                            min: 1
                            max: 100
                            value: 1
                          zugeteilteMenge:
                            type: "number"
                            step: 1
                            min: 0
                            max: 100
                            value: 0
                          gelieferteMenge:
                            type: "number"
                            step: 1
                            min: 0
                            max: 100
                            value: 1
                          rueckstaendigeMenge:
                            type: "number"
                            step: 1
                            min: 0
                            max: 100
                            value: 0
                          absageGrund:
                            value: ""
                            type: "i18n"
                          naechsteLieferung:
                            value: 1709222400000
                            type: "date"
                          auftragsDatum:
                            value: 1706572800000
                            type: "date"
                          warenausgangsDatum:
                            value: 1707878400000
                            type: "date"
                          artikelHatBestand:
                            value: true
                            type: "boolean"
                          istGeliefert:
                            value: false
                            type: "boolean"
                          bestellbar:
                            value: "Allowed"
                            hidden: false
                          stornierbar:
                            value: false
                            type: "boolean"
                          retournierbar:
                            value: false
                            type: "boolean"
                          debug:
                            value: false
                            type: "boolean"
                          status:
                            type: "number"
                            step: 0
                            min: 0
                            max: 0
                            value: 10
                opacc:
                  value:
                    details:
                      items:
                        - absageGrund:
                            key: absageGrund.02
                            type: i18n
                            value: "02"
                          artikelHatBestand:
                            type: boolean
                            value: false
                          artikelNummer:
                            position: end
                            type: string
                            value: "0736561"
                          auftragsDatum:
                            type: date
                            value: 1587592800000
                          bestellMenge:
                            max: 0
                            min: 0
                            step: 0
                            type: number
                            value: 2
                          bestellbar:
                            hidden: true
                            value: NoPermission
                          bestellreferenz:
                            type: string
                            value: ""
                          bezugsArt:
                            key: bezugsart.Dietlikon
                            type: i18n
                            value: ""
                          debug:
                            type: boolean
                            value: false
                          geliefertMarkierenErlaubt:
                            type: boolean
                            value: false
                          gelieferteMenge:
                            max: 0
                            min: 0
                            step: 0
                            type: number
                            value: 0
                          istGeliefert:
                            type: boolean
                            value: false
                          istGeliefertMarkiert:
                            type: boolean
                            value: false
                          lagerOrt:
                            type: i18n
                            value: 'Lager Dietlikon (CH)'
                          lieferKw:
                            type: string
                            value: 2021/98
                          marke:
                            type: string
                            value: Pure (0062700)
                          naechsteLieferung:
                            type: date
                            value: 0
                          nettoEk:
                            currency: CHF
                            currency_position: right
                            position: end
                            type: currency
                            value: 38.54
                          positionsNummer:
                            max: 0
                            min: 0
                            step: 0
                            type: number
                            value: 2
                          positionsText:
                            type: string
                            value: ""
                          produktBild:
                            src: https://cdn.electronicpartner.io/productimages/100x100_webp/0736561.webp
                            type: image
                            value: ""
                          produktLinie:
                            type: string
                            value: ""
                          produktName:
                            type: string
                            value: ""
                          rechnungsNetto:
                            currency: CHF
                            currency_position: right
                            position: end
                            type: currency
                            value: 75.54
                          retournierbar:
                            type: boolean
                            value: false
                          rueckstaendigeMenge:
                            max: 0
                            min: 0
                            step: 0
                            type: number
                            value: 0
                          stornierbar:
                            type: boolean
                            value: true
                          stornoMenge:
                            max: 0
                            min: 0
                            step: 0
                            type: number
                            value: 0
                          vertriebsauftragsNummer:
                            type: string
                            value: ACH0429870
                          warenausgangsDatum:
                            type: date
                            value: 0
                          warengruppe:
                            type: string
                            value: ' (3210)'
                          zugeteilteMenge:
                            max: 0
                            min: 0
                            step: 0
                            type: number
                            value: 0
                    recordsFiltered: 1
                    totalPages: 1

        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/order/{orderNumber}/details:
    get:
      summary: get the whole details of an order
      description: get the whole details of a order categorized by position numbers
      operationId: order/details
      x-ep-lambda:
        timeout: 10
        vpc: true
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Order
        - Details
      parameters:
        - $ref: "#/components/parameters/orderNumberParameter"
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/orderDetailsResponse"
              examples:
                successful:
                  value:
                    auftrag:
                      auftraggeber:
                        type: string
                        value: "0001000040"
                      auftragsDatum:
                        type: date
                        value: 1607731200000
                      benutzerId:
                        type: string
                        value: ""
                      bestellreferenz:
                        type: string
                        value: ""
                      bestelltyp:
                        key: bestelltyp.Z101
                        type: i18n
                        value: Z101
                      bezugsArt:
                        key: bezugsart.Lager
                        type: i18n
                        value: ""
                      debug:
                        type: boolean
                        value: false
                      exportStatus:
                        key: order-status.exported
                        type: i18n
                        value: exported
                      herkunft:
                        type: string
                        value: B2B
                      lieferant:
                        type: string
                        value: "0000001101"
                      vertriebsauftragsNummer:
                        type: string
                        value: "0021181374"
                      warenkorbId:
                        type: string
                        value: ""
                    lieferant:
                      anschrift:
                        land:
                          type: string
                          value: DE
                        name1:
                          type: string
                          value: ""
                        name2:
                          type: string
                          value: ""
                        name3:
                          type: string
                          value: ""
                        ort:
                          type: string
                          value: Augsburg
                        plz:
                          type: string
                          value: "86165"
                        strasseHausnummer:
                          type: string
                          value: Dasinger Stra√üe 7
                      email:
                        type: string
                        value: ""
                      fax:
                        type: string
                        value: ""
                      name:
                        type: string
                        value: ElectronicPartner Handel SE Lager Augsburg (DE)
                      partnerNummer:
                        type: string
                        value: "1114"
                      telefon:
                        type: string
                        value: ""
                      webseite:
                        type: string
                        value: ""
                    positionen:
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "0094698"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 10
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 1607990400000
                        herstellerBezeichnung:
                          type: string
                          value: "4223101401"
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Varta (0091000)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 10
                        positionsText:
                          type: string
                          value: ""
                        produktBild:
                          src: /productimages/100x100_webp/0094698_20180606_090439.webp
                          type: image
                          value: V 23 GA Electronics
                        produktLinie:
                          position: end
                          type: string
                          value: ""
                        produktName:
                          type: string
                          value: V 23 GA Electronics
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Batterien (3037)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 10
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "1230380"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 1643328000000
                        herstellerBezeichnung:
                          type: string
                          value: B0774JQ258
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Kindle (0680500)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 20
                        positionsText:
                          type: string
                          value: ""
                        produktBild:
                          src: /productimages/100x100_webp/1230380_20181023_090644.webp
                          type: image
                          value: Paperwhite WiFi 32GB mit Spezialangeboten
                        produktLinie:
                          position: end
                          type: string
                          value: ""
                        produktName:
                          type: string
                          value: Paperwhite WiFi 32GB mit Spezialangeboten
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: EBook-Reader (1518)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                      - absageGrund:
                          key: absageGrund.Z3
                          type: i18n
                          value: Z3
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "1327143"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        herstellerBezeichnung:
                          type: string
                          value: NX.A5CEG.00K
                        istGeliefert:
                          type: boolean
                          value: true
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Acer (0011400)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 30
                        positionsText:
                          type: string
                          value: Praxis Kreye
                        produktBild:
                          src: /productimages/100x100_webp/1327143_20220406_090421.webp
                          type: image
                          value: Aspire 5 (A517-52-52NL)
                        produktLinie:
                          position: end
                          type: string
                          value: ""
                        produktName:
                          type: string
                          value: Aspire 5 (A517-52-52NL)
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        warengruppe:
                          type: string
                          value: Notebooks (1512)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "0202701"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 3
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 1607990400000
                        herstellerBezeichnung:
                          type: string
                          value: "60209"
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: JURA (0043702)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 40
                        positionsText:
                          type: string
                          value: uns
                        produktBild:
                          src: /productimages/100x100_webp/0202701_20180827_155714.webp
                          type: image
                          value: CLARIS White
                        produktLinie:
                          position: end
                          type: string
                          value: Zubeh√∂r
                        produktName:
                          type: string
                          value: CLARIS White
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Kaffee/Tee Pflege/Reinigung (2274)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 3
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "1302199"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 5
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 1607990400000
                        herstellerBezeichnung:
                          type: string
                          value: 77195900 / 9290013258
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Philips (0068206)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 50
                        positionsText:
                          type: string
                          value: 2xende/ uns
                        produktBild:
                          src: /productimages/100x100_webp/1302199_20200616_142311.webp
                          type: image
                          value: LED 25W T25 K√ºhlschranklampe E14 WW FR ND SRT4
                        produktLinie:
                          position: end
                          type: string
                          value: Licht
                        produktName:
                          type: string
                          value: LED 25W T25 K√ºhlschranklampe E14 WW FR ND SRT4
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Leuchtmittel/Lampen (3032)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 5
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "1130981"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 5
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 1607990400000
                        herstellerBezeichnung:
                          type: string
                          value: "12002"
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: HD+ (0392400)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 60
                        positionsText:
                          type: string
                          value: ""
                        produktBild:
                          src: /productimages/100x100_webp/1130981_20190220_154359.webp
                          type: image
                          value: HD+ Karte 12 Monate
                        produktLinie:
                          position: end
                          type: string
                          value: ""
                        produktName:
                          type: string
                          value: HD+ Karte 12 Monate
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Pay-TV-Karten/Gutscheine (3061)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 5
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "0776086"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 5
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 1607990400000
                        herstellerBezeichnung:
                          type: string
                          value: WDBGLG0020HBK-EESN
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Western Digital (0094500)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 70
                        positionsText:
                          type: string
                          value: 1xbillen/uns
                        produktBild:
                          src: /productimages/100x100_webp/0776086.webp
                          type: image
                          value: My Book AV-TV 2TB
                        produktLinie:
                          position: end
                          type: string
                          value: ""
                        produktName:
                          type: string
                          value: My Book AV-TV 2TB
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Festplatten (3103)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 5
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "1108087"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 1607990400000
                        herstellerBezeichnung:
                          type: string
                          value: 22-235-00
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ElectronicPartner Handel SE Lager Augsburg (DE)
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Imperial (0769800)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 80
                        positionsText:
                          type: string
                          value: Egging
                        produktBild:
                          src: /productimages/100x100_webp/1108087_20160803_111227.webp
                          type: image
                          value: DABMAN i200 CD
                        produktLinie:
                          position: end
                          type: string
                          value: ""
                        produktName:
                          type: string
                          value: DABMAN i200 CD
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Portable Radios/ Heimradios (1027)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 20
                kefLieferung:
                  value:
                    auftrag:
                      auftraggeber:
                        type: string
                        value: "0001249810"
                      auftragsDatum:
                        type: date
                        value: 1720483200000
                      benutzerId:
                        type: string
                        value: "1249810001"
                      bestellreferenz:
                        type: string
                        value: Wolfgang Leutner,2344 Maria Enzersdorf
                      bestelltyp:
                        key: bestelltyp.Z101
                        type: i18n
                        value: Z101
                      bezugsArt:
                        key: bezugsart.Lager
                        type: i18n
                        value: ""
                      debug:
                        type: boolean
                        value: false
                      exportStatus:
                        key: order-status.exported
                        type: i18n
                        value: exported
                      herkunft:
                        type: string
                        value: KEF
                      lieferant:
                        type: string
                        value: "0000005400"
                      vertriebsauftragsNummer:
                        type: string
                        value: "0025660972"
                      warenkorbId:
                        type: string
                        value: "364"
                    kef:
                      klient:
                        energieBerater:
                          type: string
                          value: TEstbestellung
                        eMail:
                          type: string
                          value: w.leutner@kabsi.at
                        freiText:
                          type: string
                          value: ""
                        hausNummer:
                          type: string
                          value: "33"
                        kontakt:
                          key: label.kontaktaufnahme.phone
                          type: i18n
                          value: phone
                        nachname:
                          type: string
                          value: Leutner
                        ort:
                          type: string
                          value: Maria Enzersdorf
                        plz:
                          type: string
                          value: "2344"
                        stiege:
                          type: string
                          value: ""
                        strasse:
                          type: string
                          value: Grenzgasse
                        telefon:
                          type: string
                          value: "06648216128"
                        top:
                          type: string
                          value: ""
                        vorname:
                          type: string
                          value: Wolfgang
                      partner:
                        ansprechpartner:
                          type: string
                          value: akatronik GmbH (0001242380)
                        ansprechpartnerEmail:
                          - type: string
                            value: order@akatronik.at
                        name:
                          type: string
                          value: akatronik GmbH
                        ort:
                          type: string
                          value: Wien
                        plz:
                          type: string
                          value: "1230"
                        strasse:
                          type: string
                          value: Altmannsdorferstra√üe 163
                    positionen:
                      - absageGrund:
                          key: absageGrund.ZM
                          type: i18n
                          value: ZM
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "1308685"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        bestellbar:
                          hidden: true
                          value: NoPermission
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        geplantesLieferdatum:
                          type: date
                          value: 0
                        herstellerBezeichnung:
                          type: string
                          value: KIS77ADD0
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          key: lagerOrt.5405
                          type: i18n
                          value: ""
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Bosch (0008801)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 10
                        positionsText:
                          type: string
                          value: Wolfgang Leutner,Grenzgasse 33,2344 Maria Enzersdorf
                        produktBild:
                          src: /productimages/100x100_webp/1308685_20200803_153438.webp
                          type: image
                          value: KIS77ADD0
                        produktLinie:
                          position: end
                          type: string
                          value: Elektro-Gro√üger√§te
                        produktName:
                          type: string
                          value: KIS77ADD0
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 30
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        warengruppe:
                          type: string
                          value: K√ºhl-/Gefrierkombinationen (Einbau) (3188)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                      - absageGrund:
                          key: absageGrund.ZM
                          type: i18n
                          value: ZM
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "1403413"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        bestellbar:
                          hidden: true
                          value: NoPermission
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        herstellerBezeichnung:
                          type: string
                          value: ""
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          key: lagerOrt.5405
                          type: i18n
                          value: ""
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: ElectronicPartner (0222101)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 20
                        positionsText:
                          type: string
                          value: ""
                        produktBild:
                          src: /productimages/100x100_webp/1403413_20230215_123535.webp
                          type: image
                          value: Lieferung / Einweisung
                        produktLinie:
                          position: end
                          type: string
                          value: DL
                        produktName:
                          type: string
                          value: Lieferung / Einweisung
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        status:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 30
                        stornierbar:
                          type: boolean
                          value: false
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        warengruppe:
                          type: string
                          value: Dienstleistungen AT KEF (998)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                abweichendeLieferAdresse:
                  value:
                    auftrag:
                      auftraggeber:
                        type: string
                        value: "0001008850"
                      auftragsDatum:
                        type: date
                        value: 1717459200000
                      bestellreferenz:
                        type: string
                        value: 3-Miele-Artikel
                      bestelltyp:
                        type: i18n
                        value: "Z101"
                        key: bestelltyp.Z101
                      benutzerId:
                        type: string
                        value: "1154110019"
                      bezugsArt:
                        key: bezugsart.Unknown
                        type: i18n
                        value: ""
                      debug:
                        type: boolean
                        value: false
                      exportStatus:
                        key: order-status.in-transfer
                        type: i18n
                        value: in-transfer
                      herkunft:
                        type: string
                        value: B2B
                      lieferant:
                        type: string
                        value: ""
                      vertriebsauftragsNummer:
                        type: string
                        value: ""
                      warenkorbId:
                        type: string
                        value: "541"
                    lieferant:
                      anschrift:
                        land:
                          type: string
                          value: DE
                        name1:
                          type: string
                          value: ""
                        name2:
                          type: string
                          value: ""
                        name3:
                          type: string
                          value: ""
                        ort:
                          type: string
                          value: Guetersloh
                        plz:
                          type: string
                          value: "33332"
                        strasseHausnummer:
                          type: string
                          value: Carl-Miele-Str. 29
                      email:
                        type: string
                        value: info@miele.de
                      fax:
                        type: string
                        value: "+4952418966209"
                      name:
                        type: string
                        value: Miele Vertriebsgesellschaft Deutschland KG
                      partnerNummer:
                        type: string
                        value: "2109420"
                      telefon:
                        type: string
                        value: "+495241890"
                      webseite:
                        type: string
                        value: ""
                    positionen:
                      - absageGrund:
                          key: ""
                          type: i18n
                          value: ""
                        artikelNummer:
                          position: end
                          type: string
                          value: "1313493"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 1
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: ""
                        lieferungen:
                          - lieferAdresse:
                              land:
                                type: string
                                value: DE
                              name1:
                                type: string
                                value: 'john doe '
                              name2:
                                type: string
                                value: john doe
                              name3:
                                type: string
                                value: ""
                              ort:
                                type: string
                                value: ort
                              plz:
                                type: string
                                value: "12345"
                              strasseHausnummer:
                                type: string
                                value: An der FInke 1
                        marke:
                          type: string
                          value: Miele (0060500)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 1350
                        positionsText:
                          type: string
                          value: ""
                        produktBild:
                          src: /productimages/100x100_webp/1313493_20200930_081858.webp
                          type: image
                          value: CM 6360
                        produktLinie:
                          position: end
                          type: string
                          value: Fachhandels-Partner
                        produktName:
                          type: string
                          value: CM 6360
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: true
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Kaffee-Vollautomaten (2277)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                opacc:
                  value:
                    auftrag:
                      auftraggeber:
                        type: string
                        value: "0001461230"
                      auftragsDatum:
                        type: date
                        value: 1587600000000
                      benutzerId:
                        type: string
                        value: ""
                      bestellreferenz:
                        type: string
                        value: ""
                      bestelltyp:
                        key: bestelltyp.Z101
                        type: i18n
                        value: Z101
                      bezugsArt:
                        key: bezugsart.Dietlikon
                        type: i18n
                        value: ""
                      debug:
                        type: boolean
                        value: false
                      exportStatus:
                        key: order-status.exported
                        type: i18n
                        value: exported
                      herkunft:
                        type: string
                        value: MSC
                      lieferant:
                        type: string
                        value: "0000005650"
                      vertriebsauftragsNummer:
                        type: string
                        value: ACH0429870
                      warenkorbId:
                        type: string
                        value: ""
                    lieferant:
                      anschrift:
                        land:
                          type: string
                          value: CH
                        name1:
                          type: string
                          value: ""
                        name2:
                          type: string
                          value: ""
                        name3:
                          type: string
                          value: ""
                        ort:
                          type: string
                          value: Dietlikon
                        plz:
                          type: string
                          value: "8305"
                        strasseHausnummer:
                          type: string
                          value: Industriestra√üe 6
                      email:
                        type: string
                        value: ""
                      fax:
                        type: string
                        value: ""
                      name:
                        type: string
                        value: 'Lager Dietlikon (CH)'
                      partnerNummer:
                        type: string
                        value: "5650"
                      telefon:
                        type: string
                        value: ""
                      webseite:
                        type: string
                        value: ""
                    positionen:
                      - absageGrund:
                          key: absageGrund.02
                          type: i18n
                          value: "02"
                        artikelHatBestand:
                          type: boolean
                          value: false
                        artikelNummer:
                          position: end
                          type: string
                          value: "0736561"
                        bestellMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 2
                        geliefertMarkierenErlaubt:
                          type: boolean
                          value: false
                        gelieferteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        herstellerBezeichnung:
                          type: string
                          value: PW5824
                        istGeliefert:
                          type: boolean
                          value: false
                        istGeliefertMarkiert:
                          type: boolean
                          value: false
                        lagerOrt:
                          type: i18n
                          value: 'Lager Dietlikon (CH)'
                        lieferKw:
                          type: string
                          value: 2021/98
                        lieferungen: [ ]
                        marke:
                          type: string
                          value: Pure (0062700)
                        positionsNummer:
                          max: 0
                          min: 0
                          position: end
                          step: 0
                          type: number
                          value: 2
                        positionsText:
                          type: string
                          value: ""
                        produktBild:
                          src: /productimages/100x100_webp/0736561.webp
                          type: image
                          value: ChargePAK F1
                        produktLinie:
                          position: end
                          type: string
                          value: ""
                        produktName:
                          type: string
                          value: ChargePAK F1
                        rechnungen: [ ]
                        retournierbar:
                          type: boolean
                          value: false
                        rueckstaendigeMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        stornierbar:
                          type: boolean
                          value: true
                        stornoMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
                        warengruppe:
                          type: string
                          value: Akkus Braune Ware (3210)
                        zugeteilteMenge:
                          max: 0
                          min: 0
                          step: 0
                          type: number
                          value: 0
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/order/{orderNumber}/{positionNumber}:
    delete:
      summary: cancel an order position
      description: cancel an order position
      operationId: order/position/cancel
      x-ep-lambda:
        timeout: 10
        vpc: true
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Order
        - Cancel
      parameters:
        - $ref: "#/components/parameters/orderNumberParameter"
        - $ref: "#/components/parameters/positionNumberParameter"
      responses:
        '204':
          $ref: "#/components/responses/noContent"
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '409':
          $ref: '#/components/responses/conflict'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/order/mark/{orderNumber}/{positionNumber}/{delivered}:
    put:
      summary: change the delivered status of an order position
      description: change the delivered status of an order position
      operationId: order/markDelivered
      x-ep-lambda:
        vpc: true
        timeout: 10
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Order
        - Mark
      parameters:
        - $ref: '#/components/parameters/orderNumberParameter'
        - $ref: '#/components/parameters/positionNumberParameter'
        - $ref: '#/components/parameters/deliveredParameter'
      responses:
        '200':
          description: ok
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/invoice:
    post:
      summary: get the invoices(s) of a member
      description: get the invoices(s) of a member
      operationId: invoice/overview
      x-ep-lambda:
        vpc: true
        timeout: 30
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Invoice
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/searchRequest"
            examples:
              successful:
                value:
                  filter:
                    belegNummer: "8500306681"
                    artikelNummer: "1985565"
                    date: "fakturaDatum"
                    from: "1652745600000"
                    to: "1652745600000"
                  #sorts:
                  #  fakturaDatum: "desc"
                  #  vertriebsauftragsNummer: "desc"
                  #  positionsNummer: "asc"
                  paginate:
                    currentPage: 1
                    pageSize: 20
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/invoiceResponse"
              examples:
                successful:
                  value:
                    recordsFiltered: 20
                    totalPages: 4
                    details:
                      items:
                        - vertriebsauftragsNummer:
                            value: "0070705228"
                            type: "string"
                          artikelNummer:
                            value: "1985565"
                            type: "string"
                          belegNummer:
                            value: "8500306681"
                            type: "string"
                          rechnungsDatum:
                            value: 1652745600000
                            type: "date"
                          faelligkeitsDatum:
                            value: 1655683200000
                            type: "date"
                          brutto:
                            value: 434.23
                            type: "currency"
                            currency: "EUR"
                          netto:
                            value: 364.9
                            type: "currency"
                            currency: "EUR"
                          mwst:
                            value: 69.33
                            type: "currency"
                            currency: "EUR"
                          gelesen:
                            value: false
                            type: "boolean"
                          downloadLink:
                            value: "https://example.com/download/8500306681"
                            type: "link"
                          mwstProzent:
                            value: 7.0
                            type: "string"
                        - vertriebsauftragsNummer:
                            value: "0070705229"
                            type: "string"
                          artikelNummer:
                            value: "1985568"
                            type: "string"
                          belegNummer:
                            value: "8500306681"
                            type: "string"
                          rechnungsDatum:
                            value: 1652745600000
                            type: "date"
                          faelligkeitsDatum:
                            value: 1655683200000
                            type: "date"
                          brutto:
                            value: 434.23
                            type: "currency"
                            currency: "EUR"
                          netto:
                            value: 364.9
                            type: "currency"
                            currency: "EUR"
                          mwst:
                            value: 69.33
                            type: "currency"
                            currency: "EUR"
                          gelesen:
                            value: false
                            type: "boolean"
                          downloadLink:
                            value: "https://example.com/download/8500306681"
                            type: "link"
                          mwstProzent:
                            value: 19.0
                            type: "string"

        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/invoice/{invoiceNumber}/details:
    get:
      summary: get the details of an invoice
      description: get the details of an invoice
      operationId: invoice/details
      x-ep-lambda:
        timeout: 10
        vpc: true
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Invoice
        - Details
      parameters:
        - $ref: "#/components/parameters/invoiceNumberParameter"
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/invoicesDetails"
              examples:
                successful:
                  value:
                    - belegNummer:
                        value: "8009209545"
                        type: "string"
                      vertriebsauftragsArt:
                        value: "Z101"
                        type: "string"
                      vertriebsauftragsNummer:
                        value: "0022119429"
                        type: "string"
                      positionsNummer:
                        type: "number"
                        value: 10
                        step: 0
                        min: 0
                        max: 0
                      artikelNummer:
                        value: "1279988"
                        type: "string"
                      marke:
                        value: "Leifheit (0829100)"
                        type: "string"
                      produktName:
                        value: "11927 RotaroPowerVac 2in1 16V"
                        type: "string"
                      produktBild:
                        type: "image"
                        src: "https://cdn.electronicpartner.io/productimages/100x100_webp/1279988_20200723_131954.webp"
                        value: "11927 RotaroPowerVac 2in1 16V"
                      warengruppe:
                        value: "Akku-Stielsauger (2201)"
                        type: "string"
                      produktLinie:
                        value: "00"
                        type: "string"
                      menge:
                        type: "number"
                        value: 1
                        step: 0
                        min: 0
                        max: 0
                      netto:
                        type: "currency"
                        value: 86.11
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      brutto:
                        type: "currency"
                        value: 102.48
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      mwst:
                        type: "currency"
                        value: 16.37
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      mwstProzent:
                        type: "percentage"
                        value: 19
                        min: 0
                        max: 100
                      fakturaDatum:
                        value: 1629064800
                        type: "date"
                      faelligkeitsDatum:
                        value: 1632088800
                        type: "date"

                    - belegNummer:
                        value: "8009209545"
                        type: "string"
                      vertriebsauftragsArt:
                        value: "Z101"
                        type: "string"
                      vertriebsauftragsNummer:
                        value: "0022119429"
                        type: "string"
                      positionsNummer:
                        type: "number"
                        value: 20
                        step: 0
                        min: 0
                        max: 0
                      artikelNummer:
                        value: "1131792"
                        type: "string"
                      marke:
                        value: "Epson (0020300)"
                        type: "string"
                      produktName:
                        value: "T1801 BK 18"
                        type: "string"
                      produktBild:
                        type: "image"
                        src: "https://cdn.electronicpartner.io/productimages/100x100_webp/1131792_20170120_104744.webp"
                        value: "T1801 BK 18"
                      warengruppe:
                        value: "Tinte/Toner/Farbb√§nder etc. (3055)"
                        type: "string"
                      produktLinie:
                        value: "00"
                        type: "string"
                      menge:
                        type: "number"
                        value: 2
                        step: 0
                        min: 0
                        max: 0
                      netto:
                        type: "currency"
                        value: 16.64
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      brutto:
                        type: "currency"
                        value: 19.8
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      mwst:
                        type: "currency"
                        value: 3.16
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      mwstProzent:
                        type: "percentage"
                        value: 19
                        min: 0
                        max: 100
                      fakturaDatum:
                        value: 1629064800
                        type: "date"
                      faelligkeitsDatum:
                        value: 1632088800
                        type: "date"

                    - belegNummer:
                        value: "8009209545"
                        type: "string"
                      vertriebsauftragsArt:
                        value: "Z101"
                        type: "string"
                      vertriebsauftragsNummer:
                        value: "0022119429"
                        type: "string"
                      positionsNummer:
                        type: "number"
                        value: 30
                        step: 0
                        min: 0
                        max: 0
                      artikelNummer:
                        value: "1327453"
                        type: "string"
                      marke:
                        value: "Braun Personal Care (0009000)"
                        type: "string"
                      produktName:
                        value: "100 Jahre Braun BeardTrimmer 7"
                        type: "string"
                      produktBild:
                        type: "image"
                        src: "https://cdn.electronicpartner.io/productimages/100x100_webp/1327453_20201230_145644.webp"
                        value: "100 Jahre Braun BeardTrimmer 7"
                      warengruppe:
                        value: "Bartschneider (2211)"
                        type: "string"
                      produktLinie:
                        value: "00"
                        type: "string"
                      menge:
                        type: "number"
                        value: 1
                        step: 0
                        min: 0
                        max: 0
                      netto:
                        type: "currency"
                        value: 50.13
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      brutto:
                        type: "currency"
                        value: 59.65
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      mwst:
                        type: "currency"
                        value: 9.52
                        currency: "EUR"
                        currency_position: "right"
                        position: "end"
                      mwstProzent:
                        type: "percentage"
                        value: 19
                        min: 0
                        max: 100
                      fakturaDatum:
                        value: 1629064800
                        type: "date"
                      faelligkeitsDatum:
                        value: 1632088800
                        type: "date"

        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/invoice/download:
    post:
      summary: get the invoice file(s) of a member
      description: get the invoice file(s) of a member
      operationId: invoice/download
      x-ep-lambda:
        vpc: true
        timeout: 10
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Invoice
        - Download
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/invoiceDownloadReq"
            examples:
              successful:
                value: [ "8040403625", "8669445986" ]
      responses:
        '200':
          description: ok
          content:
            application/zip:
              schema:
                type: string
                format: binary
              examples:
                successful:
                  value: "8040403625.zip"
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/invoice/mark/{read}:
    put:
      summary: change the read status of the invoice
      description: change the read status of the invoice
      operationId: invoice/markAsRead
      x-ep-lambda:
        vpc: true
        timeout: 10
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Invoice
        - Mark
      parameters:
        - $ref: '#/components/parameters/readParameter'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/invoiceMarkReq"
            examples:
              successful:
                value: [ "8040403625", "8669445986" ]
      responses:
        '200':
          description: ok
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/return:
    post:
      summary: submit infos to the return form
      description: saves the submitted infos from the return form into the database
      operationId: return/post
      x-ep-lambda:
        vpc: true
        timeout: 10
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Order
        - Return
        - Form
        - Save
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/returnReq"
            examples:
              successful:
                value:
                  auftragsNummer: '0023456789'
                  positionsNummer: '000010'
                  retourenmenge: 3
                  anzahlkartons: 1
                  retourengrund: "Falschlieferung"
                  detailbeschreibung: "Anstelle von Artikelnummer 345345 wurde 345342 geliefert"
                  liefermitglied: "10000020"
                  ansprechpartner: "Max der Mustermann"
                  ansprechpartnerMail: "max.mustermann@firmaxyz.de"
                  telefon: "0211 4156001"
                  referenz: "Retourenreferenz Beispiel Text"
                  seriennummer:
                    - wert: "210528216963"
                      manuell: false
                    - wert: "38420B43E9F18"
                      manuell: true
      responses:
        '201':
          $ref: "#/components/responses/created"
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '409':
          $ref: '#/components/responses/conflict'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/return/{orderNumber}/{positionNumber}:
    get:
      summary: get the infos for the return form
      description: get the infos for the return form
      operationId: return/get
      parameters:
        - $ref: "#/components/parameters/orderNumberParameter"
        - $ref: '#/components/parameters/positionNumberParameter'
      x-ep-lambda:
        vpc: true
        timeout: 10
        secrets:
          - order-service
          - aurora-db-infonet
      tags:
        - Order
        - Return
        - EmptyForm
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/returnForm"
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/return/reasons:
    post:
      summary: get the eligible return reason(s) for a receipt (& positions)
      description: get the eligible return reason(s) for a receipt (& positions)
      operationId: return/reasons
      x-ep-lambda:
        vpc: true
        timeout: 30
        secrets:
          - order-service
          - infonet-auftragsverwaltung
      tags:
        - Return
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/returnReasonsRequest"
            examples:
              successful:
                value:
                  belegNummer: "8009477477"
                  artikelNummer: "0747877"
                  positionsNummer: "00010"
                  menge: 1
              notFound:
                value:
                  belegNummer: "8009477477"
                  artikelNummer: "0747877"
                  positionsNummer: "00010"
                  menge: 10000
              forbidden:
                value:
                  belegNummer: "8009477477"
                  artikelNummer: "0747877"
                  positionsNummer: "00010"
                  menge: 1
              internalServerError:
                value:
                  belegNummer: "8010655033"
                  artikelNummer: "0802501"
                  positionsNummer: "00020"
                  menge: 1
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/returnReasonsResponse"
              examples:
                successful:
                  value:
                    retourenGruende:
                      - code: "1"
                        text: "Falschlieferung"
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

  /v1/return/fees:
    post:
      summary: get the return fees for artikel
      description: get the return fees for artikel
      operationId: return/fees
      x-ep-lambda:
        vpc: true
        timeout: 30
        secrets:
          - infonet-auftragsverwaltung
          - JWT
      tags:
        - Return
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/returnFeesRequest"
            examples:
              successful:
                value:
                  artikelNummer: "0747877"
                  menge: 2
              notFound:
                value:
                  artikelNummer: "0747877"
                  menge: 1
              forbidden:
                value:
                  artikelNummer: "0747877"
                  menge: 1
              internalServerError:
                value:
                  artikelNummer: "0802501"
                  menge: 1
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/returnFeesResponse"
              examples:
                successful:
                  value:
                    menge:
                      type: number
                      value: 2
                      step: 0
                      min: 0
                      max: 0
                    einzelGebuehr:
                      lieferung:
                        type: currency
                        value: 10.99
                        currency: EUR
                        currency_position: right
                        position: end
                      retoure:
                        type: currency
                        value: 10.99
                        currency: EUR
                        currency_position: right
                        position: end
                      gesamt:
                        type: currency
                        value: 21.98
                        currency: EUR
                        currency_position: right
                        position: end
                    gesamt:
                      type: currency
                      value: 43.96
                      currency: EUR
                      currency_position: right
                      position: end
        '400':
          $ref: "#/components/responses/badRequest"
        '403':
          $ref: "#/components/responses/forbidden"
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: "#/components/responses/internalServerError"

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      x-ep-auth:
        secrets:
          - usermanager
          - JWT
        rights:
          - bestellbestand
          - warenkorb-debug
          - bestell_lager
          - geschaeftsfuehrung
          - warenkorb-piloten
  parameters:
    orderNumberParameter:
      name: orderNumber
      in: path
      description: orderNumber parameter for the details endpoint
      required: true
      schema:
        type: string
      examples:
        successful:
          value: "0023456789"
        badRequest:
          value: "9898525258"
        forbidden:
          value: "5615165651"
        internalServerError:
          value: "6654167521"
    positionNumberParameter:
      name: positionNumber
      in: path
      description: positionNumber parameter for the order
      required: true
      schema:
        type: integer
      examples:
        successful:
          value: 10
        badRequest:
          value: 00010
        forbidden:
          value: 00000
        internalServerError:
          value: 12345
    deliveredParameter:
      name: delivered
      in: path
      description: toggle flag for mark
      required: true
      schema:
        type: boolean
      examples:
        successful:
          value: true
        notFound:
          value: true
        forbidden:
          value: true
        internalServerError:
          value: true
    invoiceNumberParameter:
      name: invoiceNumber
      in: path
      description: invoice number
      required: true
      schema:
        type: string
      examples:
        successful:
          value: "8009209545"
        notFound:
          value: "1111111111"
        forbidden:
          value: "9999999999"
        internalServerError:
          value: "0000000000"

    readParameter:
      name: read
      in: path
      description: a flag indicating if the document shall be marked as read or as unread
      required: true
      schema:
        type: boolean
      examples:
        successful:
          value: true
        notFound:
          value: true
        forbidden:
          value: true
        internalServerError:
          value: true

  schemas:
    bezugsartFilter:
      type: string
      enum:
        - bezugsart.Lager
        - bezugsart.Strecke
        - bezugsart.Virtuell
    chBezugsartFilter:
      type: string
      enum:
        - bezugsart.Eurolager
        - bezugsart.Dietlikon
        - bezugsart.Strecke
    searchRequest:
      type: object
      additionalProperties: false
      properties:
        filter:
          type: object
          additionalProperties: true
          # type: string
        sorts:
          type: object
          additionalProperties:
            type: string
        orderType:
          type: string
          enum:
            - order
            - standing
            - return
            - invoice
        paginate:
          $ref: '#/components/schemas/pagination'

    orderResponse:
      type: object
      additionalProperties: false
      properties:
        totalPages:
          type: number
        recordsTotal:
          type: number
        recordsFiltered:
          type: number
        details:
          type: object
          properties:
            items:
              $ref: '#/components/schemas/orders'

    orders:
      type: array
      items:
        $ref: '#/components/schemas/order'

    order:
      type: object
      additionalProperties: false
      properties:
        vertriebsauftragsNummer:
          $ref: '#/components/schemas/IString'
        positionsNummer:
          $ref: '#/components/schemas/INumber'
        artikelNummer:
          $ref: '#/components/schemas/IString'
        bestellreferenz:
          $ref: '#/components/schemas/IString'
        positionsText:
          $ref: '#/components/schemas/IString'
        marke:
          $ref: '#/components/schemas/IString'
        produktName:
          $ref: '#/components/schemas/IString'
        produktBild:
          $ref: "#/components/schemas/ImageData"
        warengruppe:
          $ref: '#/components/schemas/IString'
        bezugsArt:
          $ref: '#/components/schemas/II18n'
        lagerOrt:
          $ref: '#/components/schemas/II18n'
        nettoEk:
          $ref: '#/components/schemas/IPrice'
        rechnungsNetto:
          $ref: '#/components/schemas/IPrice'
        bestellMenge:
          $ref: '#/components/schemas/INumber'
        zugeteilteMenge:
          $ref: '#/components/schemas/INumber'
        gelieferteMenge:
          $ref: '#/components/schemas/INumber'
        stornoMenge:
          $ref: '#/components/schemas/INumber'
        absageGrund:
          $ref: '#/components/schemas/II18n'
        rueckstaendigeMenge:
          $ref: '#/components/schemas/INumber'
        naechsteLieferung:
          $ref: '#/components/schemas/IDate'
        auftragsDatum:
          $ref: '#/components/schemas/IDate'
        warenausgangsDatum:
          $ref: '#/components/schemas/IDate'
        istGeliefert:
          $ref: '#/components/schemas/IBool'
        bestellbar:
          $ref: '#/components/schemas/AddToCartButton'
        stornierbar:
          $ref: '#/components/schemas/IBool'
        retournierbar:
          $ref: '#/components/schemas/IBool'
        produktLinie:
          $ref: '#/components/schemas/IString'
        geliefertMarkierenErlaubt:
          $ref: '#/components/schemas/IBool'
        istGeliefertMarkiert:
          $ref: '#/components/schemas/IBool'
        geplantesLieferdatum:
          $ref: '#/components/schemas/IDate'
        lieferKw:
          $ref: '#/components/schemas/IString'
        artikelHatBestand:
          $ref: '#/components/schemas/IBool'
        debug:
          $ref: '#/components/schemas/IBool'
        status:
          $ref: '#/components/schemas/INumber'
        warenkorbId:
          $ref: '#/components/schemas/IString'

    orderDetailsResponse:
      type: object
      additionalProperties: false
      properties:
        auftrag:
          $ref: "#/components/schemas/orderHeader"
        lieferant:
          $ref: "#/components/schemas/Lieferant"
        kef:
          $ref: "#/components/schemas/KefData"
        positionen:
          type: array
          items:
            $ref: '#/components/schemas/orderPosition'
      required:
        - positionen
        - auftrag

    orderHeader:
      type: object
      additionalProperties: false
      properties:
        vertriebsauftragsNummer:
          $ref: '#/components/schemas/IString'
        auftragsDatum:
          $ref: '#/components/schemas/IDate'
        bestelltyp:
          $ref: '#/components/schemas/II18n'
        benutzerId:
          $ref: '#/components/schemas/IString'
        bezugsArt:
          $ref: '#/components/schemas/II18n'
        herkunft:
          $ref: '#/components/schemas/IString'
        lieferant:
          $ref: '#/components/schemas/IString'
        exportStatus:
          $ref: '#/components/schemas/II18n'
        auftraggeber:
          $ref: '#/components/schemas/IString'
        bestellreferenz:
          $ref: '#/components/schemas/IString'
        warenkorbId:
          $ref: '#/components/schemas/IString'
        debug:
          $ref: '#/components/schemas/IBool'

    orderPosition:
      type: object
      additionalProperties: false
      properties:
        positionsNummer:
          $ref: '#/components/schemas/INumber'
        artikelNummer:
          $ref: '#/components/schemas/IString'
        marke:
          $ref: '#/components/schemas/IString'
        herstellerBezeichnung:
          $ref: '#/components/schemas/IString'
        warengruppe:
          $ref: '#/components/schemas/IString'
        produktName:
          $ref: '#/components/schemas/IString'
        produktLinie:
          $ref: '#/components/schemas/IString'
        produktBild:
          $ref: '#/components/schemas/ImageData'
        produktLink:
          $ref: '#/components/schemas/LinkDataGrid'
        lieferant:
          $ref: '#/components/schemas/IString'
        lagerOrt:
          $ref: '#/components/schemas/II18n'
        bestellMenge:
          $ref: '#/components/schemas/INumber'
        gelieferteMenge:
          $ref: '#/components/schemas/INumber'
        rueckstaendigeMenge:
          $ref: '#/components/schemas/INumber'
        absageGrund:
          $ref: '#/components/schemas/II18n'
        zugeteilteMenge:
          $ref: '#/components/schemas/INumber'
        stornoMenge:
          $ref: '#/components/schemas/INumber'
        positionsText:
          $ref: '#/components/schemas/IString'
        retournierbar:
          $ref: '#/components/schemas/IBool'
        stornierbar:
          $ref: '#/components/schemas/IBool'
        bestellbar:
          $ref: '#/components/schemas/AddToCartButton'
        istGeliefert:
          $ref: '#/components/schemas/IBool'
        istGeliefertMarkiert:
          $ref: '#/components/schemas/IBool'
        geliefertMarkierenErlaubt:
          $ref: '#/components/schemas/IBool'
        geplantesLieferdatum:
          $ref: '#/components/schemas/IDate'
        lieferKw:
          $ref: '#/components/schemas/IString'
        artikelHatBestand:
          $ref: '#/components/schemas/IBool'
        lieferungen:
          type: array
          items:
            $ref: '#/components/schemas/delivery'
        rechnungen:
          type: array
          items:
            $ref: '#/components/schemas/invoice'
        status:
          $ref: '#/components/schemas/INumber'

    delivery:
      type: object
      additionalProperties: false
      properties:
        lieferscheinNummer:
          $ref: '#/components/schemas/IString'
        lieferPositionsNummer:
          $ref: '#/components/schemas/IString'
        artikelNummer:
          $ref: '#/components/schemas/IString'
        lieferMenge:
          $ref: '#/components/schemas/INumber'
        warenausgangsDatum:
          $ref: '#/components/schemas/IDate'
        lieferDatum:
          $ref: '#/components/schemas/IDate'
        lieferAdresse:
          $ref: '#/components/schemas/Address'
        kefAdresse:
          $ref: '#/components/schemas/KefAddress'
        belegNummer:
          $ref: '#/components/schemas/IString'
        rechnungsposition:
          $ref: '#/components/schemas/IString'
        rechnungsDatum:
          $ref: '#/components/schemas/IDate'
        sendungsNummer:
          type: array
          items:
            $ref: '#/components/schemas/IString'
        serienNummer:
          type: array
          items:
            $ref: '#/components/schemas/IString'

    invoiceResponse:
      type: object
      additionalProperties: false
      properties:
        totalPages:
          type: number
        recordsTotal:
          type: number
        recordsFiltered:
          type: number
        details:
          type: object
          properties:
            items:
              $ref: '#/components/schemas/invoiceList'

    invoiceList:
      type: array
      items:
        $ref: '#/components/schemas/invoiceOverview'

    invoice:
      type: object
      #additionalProperties: false
      properties:
        artikelNummer:
          $ref: '#/components/schemas/IString'
        belegNummer:
          $ref: '#/components/schemas/IString'
        netto:
          $ref: '#/components/schemas/IPrice'
        brutto:
          $ref: '#/components/schemas/IPrice'
        mwst:
          $ref: '#/components/schemas/IPrice'
        faelligkeitsDatum:
          $ref: '#/components/schemas/IDate'
        rechnungsDatum:
          $ref: '#/components/schemas/IDate'

    invoiceOverview:
      type: object
      allOf:
        - $ref: '#/components/schemas/invoice'
        - type: object
          #additionalProperties: false
          properties:
            vertriebsauftragsNummer:
              $ref: '#/components/schemas/IString'
            downloadLink:
              $ref: '#/components/schemas/LinkDataGrid'
            gelesen:
              $ref: '#/components/schemas/IBool'
            mwstProzent:
              $ref: '#/components/schemas/Ipercentage'

    invoicesDetails:
      type: array
      items:
        type: object
        additionalProperties: false
        properties:
          belegNummer:
            $ref: '#/components/schemas/IString'
          vertriebsauftragsArt:
            $ref: '#/components/schemas/IString'
          vertriebsauftragsNummer:
            $ref: '#/components/schemas/IString'
          positionsNummer:
            $ref: '#/components/schemas/INumber'
          artikelNummer:
            $ref: '#/components/schemas/IString'
          marke:
            $ref: '#/components/schemas/IString'
          produktName:
            $ref: '#/components/schemas/IString'
          produktBild:
            $ref: '#/components/schemas/ImageData'
          warengruppe:
            $ref: '#/components/schemas/IString'
          produktLinie:
            $ref: '#/components/schemas/IString'
          menge:
            $ref: '#/components/schemas/INumber'
          netto:
            $ref: '#/components/schemas/IPrice'
          brutto:
            $ref: '#/components/schemas/IPrice'
          mwst:
            $ref: '#/components/schemas/IPrice'
          mwstProzent:
            $ref: '#/components/schemas/Ipercentage'
          fakturaDatum:
            $ref: '#/components/schemas/IDate'
          faelligkeitsDatum:
            $ref: '#/components/schemas/IDate'

    invoiceDownloadReq:
      description: Liste der Belegnummern
      type: array
      minItems: 1
      items:
        type: string

    invoiceMarkReq:
      description: Liste der Belegnummern
      allOf:
        - $ref: '#/components/schemas/invoiceDownloadReq'

    Address:
      type: object
      additionalProperties: false
      properties:
        land:
          $ref: '#/components/schemas/IString'
        ort:
          $ref: '#/components/schemas/IString'
        plz:
          $ref: '#/components/schemas/IString'
        strasseHausnummer:
          $ref: '#/components/schemas/IString'
        name1:
          $ref: '#/components/schemas/IString'
        name2:
          $ref: '#/components/schemas/IString'
        name3:
          $ref: '#/components/schemas/IString'

    KefData:
      type: object
      additionalProperties: false
      properties:
        klient:
          $ref: '#/components/schemas/KefAddress'
        partner:
          $ref: '#/components/schemas/KefPartner'
      required: [
        "klient",
        "partner"
      ]
    KefAddress:
      type: object
      properties:
        energieBerater:
          $ref: '#/components/schemas/IString'
        vorname:
          $ref: '#/components/schemas/IString'
        nachname:
          $ref: '#/components/schemas/IString'
        strasse:
          $ref: '#/components/schemas/IString'
        hausNummer:
          $ref: '#/components/schemas/IString'
        stiege:
          $ref: '#/components/schemas/IString'
        top:
          $ref: '#/components/schemas/IString'
        plz:
          $ref: '#/components/schemas/IString'
        ort:
          $ref: '#/components/schemas/IString'
        telefon:
          $ref: '#/components/schemas/IString'
        eMail:
          $ref: '#/components/schemas/IString'
        kontakt:
          $ref: '#/components/schemas/II18n'
        freiText:
          $ref: '#/components/schemas/IString'
      required: [
        "energieBerater",
        "vorname",
        "nachname",
        "strasse",
        "hausNummer",
        "plz",
        "ort",
        "kontakt"
      ]
    KefPartner:
      type: object
      properties:
        name:
          $ref: '#/components/schemas/IString'
        strasse:
          $ref: '#/components/schemas/IString'
        plz:
          $ref: '#/components/schemas/IString'
        ort:
          $ref: '#/components/schemas/IString'
        ansprechpartner:
          $ref: '#/components/schemas/IString'
        ansprechpartnerEmail:
          type: array
          items:
            $ref: '#/components/schemas/IString'
      required: [
        "name",
        "strasse",
        "plz",
        "ort",
        "ansprechpartner"
      ]

    Lieferant:
      type: object
      additionalProperties: false
      properties:
        partnerNummer:
          $ref: '#/components/schemas/IString'
        name:
          $ref: '#/components/schemas/IString'
        webseite:
          $ref: '#/components/schemas/IString'
        email:
          $ref: '#/components/schemas/IString'
        telefon:
          $ref: '#/components/schemas/IString'
        fax:
          $ref: '#/components/schemas/IString'
        anschrift:
          $ref: '#/components/schemas/Address'


    AddToCartButton:
      type: object
      additionalProperties: false
      properties:
        value:
          type: string
          enum:
            - "NoPermission"
            - "NotAllowed"
            - "Allowed"
        hidden:
          type: boolean

    IPrice:
      type: object
      additionalProperties: false
      properties:
        value:
          type: number
        type:
          type: string
          enum:
            - 'currency'
        currency:
          type: string
          enum:
            - 'EUR'
            - 'CHF'
        currency_position:
          type: string
          nullable: true
          description: Position f√ºr die Anzeige der W√§hrung
          enum:
            - 'left'
            - 'right'
        position:
          $ref: '#/components/schemas/DatagridPosition'
      required:
        - value
        - type
        - currency

    IDate:
      type: object
      additionalProperties: false
      properties:
        value:
          type: number
        type:
          type: string
          enum:
            - 'date'
        position:
          $ref: '#/components/schemas/DatagridPosition'
      required:
        - value
        - type

    INumber:
      type: object
      additionalProperties: false
      properties:
        type:
          type: string
          default: "number"
        step:
          type: integer
        min:
          type: integer
        max:
          type: integer
        value:
          type: integer
        position:
          $ref: '#/components/schemas/DatagridPosition'

    Ipercentage:
      type: object
      additionalProperties: false
      properties:
        value:
          type: number
        type:
          type: string
          default: "percentage"
        min:
          type: number
        max:
          type: number
        position:
          $ref: '#/components/schemas/DatagridPosition'

    LinkDataGrid:
      type: object
      properties:
        type:
          type: string
          default: "link"
          enum:
            - "link"
        label:
          type: string
          description: "Label to display"
        value:
          type: string
          description: "URL to special site"

    ImageData:
      type: object
      additionalProperties: false
      properties:
        type:
          type: string
          default: "image"
        value:
          type: string
          description: "Text for the tooltip"
        src:
          type: string

    IString:
      type: object
      additionalProperties: false
      properties:
        value:
          type: string
        type:
          type: string
          enum:
            - 'string'
        position:
          $ref: '#/components/schemas/DatagridPosition'
      required:
        - value
        - type

    II18n:
      type: object
      additionalProperties: true
      properties:
        key:
          type: string
        value:
          type: string
        type:
          type: string
          enum:
            - 'i18n'
        position:
          $ref: '#/components/schemas/DatagridPosition'
      required:
        - value
        - type

    IBool:
      type: object
      additionalProperties: false
      properties:
        value:
          type: boolean
        type:
          type: string
          enum:
            - "boolean"
        position:
          $ref: '#/components/schemas/DatagridPosition'
        hidden:
          type: boolean
      required:
        - value
        - type

    DatagridPosition:
      type: string
      description: Position f√ºr die Anzeige des Feldinhalts
      nullable: true
      enum:
        - 'start'
        - 'middle'
        - 'end'
    pagination:
      type: object
      additionalProperties: false
      properties:
        pageSize:
          type: number
        currentPage:
          type: number
    ResponseHttpError:
      type: object
      additionalProperties: false
      properties:
        error:
          type: string
          description: Error message in case of failure
      required:
        - error

    returnReasonsRequest:
      type: object
      additionalProperties: false
      properties:
        belegNummer:
          type: string
        artikelNummer:
          type: string
        positionsNummer:
          type: string
        menge:
          type: integer
      required:
        - belegNummer
        - artikelNummer
        - positionsNummer
        - menge

    returnReasonsResponse:
      type: object
      properties:
        returnReasons:
          $ref: "#/components/schemas/retourenGruende"

    retourenGruende:
      type: array
      items:
        $ref: "#/components/schemas/retourenGrund"

    retourenGrund:
      type: object
      properties:
        code:
          type: string
        text:
          type: string

    returnForm:
      type: object
      additionalProperties: false
      properties:
        vertriebsauftragsNummer:
          $ref: '#/components/schemas/IString'
        auftragsDatum:
          $ref: '#/components/schemas/IDate'
        bestellTyp:
          $ref: '#/components/schemas/II18n'
        bestellreferenz:
          $ref: '#/components/schemas/IString'
        positionsNummer:
          $ref: '#/components/schemas/IString'
        artikelNummer:
          $ref: '#/components/schemas/IString'
        positionsText:
          $ref: '#/components/schemas/IString'
        marke:
          $ref: '#/components/schemas/IString'
        produktName:
          $ref: '#/components/schemas/IString'
        warengruppe:
          $ref: '#/components/schemas/IString'
        produktBild:
          $ref: '#/components/schemas/ImageData'
        bestellMenge:
          $ref: '#/components/schemas/INumber'
        lieferungen:
          type: array
          items:
            $ref: '#/components/schemas/delivery'

    returnReq:
      type: object
      additionalProperties: false
      properties:
        auftragsNummer:
          type: string
        positionsNummer:
          type: string
        retourenmenge:
          type: integer
        anzahlkartons:
          type: integer
        retourengrund:
          type: string
        detailbeschreibung:
          type: string
        liefermitglied:
          type: string
        ansprechpartner:
          type: string
        ansprechpartnerMail:
          type: string
        telefon:
          type: string
        referenz:
          type: string
        seriennummer:
          $ref: '#/components/schemas/SerialNumbers'

    returnFeesRequest:
      type: object
      additionalProperties: false
      properties:
        artikelNummer:
          type: string
        menge:
          type: integer
      required:
        - artikelNummer
        - menge

    returnFeesResponse:
      $ref: "#/components/schemas/returnFees"

    returnFees:
      type: object
      properties:
        menge:
          $ref: '#/components/schemas/INumber'
        einzelGebuehr:
          type: object
          properties:
            lieferung:
              $ref: '#/components/schemas/IPrice'
            retoure:
              $ref: '#/components/schemas/IPrice'
            gesamt:
              $ref: '#/components/schemas/IPrice'
        gesamt:
          $ref: '#/components/schemas/IPrice'

    SelectBoxOptionDataGrid:
      type: array
      items:
        type: object
        additionalProperties: false
        properties:
          key:
            type: string
          value:
            type: string

    SelectBoxDataGrid:
      type: object
      additionalProperties: false
      properties:
        type:
          type: string
          default: "select"
        value:
          type: string
        options:
          $ref: "#/components/schemas/SelectBoxOptionDataGrid"

    SerialNumbers:
      type: array
      minItems: 0
      items:
        $ref: '#/components/schemas/SerialNumber'

    SerialNumber:
      type: object
      additionalProperties: false
      properties:
        wert:
          type: string
        manuell:
          type: boolean

  responses:
    created:
      description: Created
      content:
        application/json:
          examples:
            Successful:
              value: ""
    noContent:
      description: No Content
      content:
        application/json:
          examples:
            successful:
              value: ""
    badRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseHttpError'
          examples:
            badRequest:
              value:
                error: "Bad request message"
    forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseHttpError'
          examples:
            forbidden:
              value:
                error: "Forbidden message"
    notFound:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseHttpError'
          examples:
            notFound:
              value:
                error: "Not Found"
    conflict:
      description: Already Exists
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseHttpError'
          examples:
            notFound:
              value:
                error: "Already Exists"
    internalServerError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseHttpError'
          examples:
            internalServerError:
              value:
                error: "Internal Server Error"

security:
  - bearerAuth: [ ]